<!-- app/templates/index.html -->
<!DOCTYPE html>
<html>
<head>
    <title>Find a Recipe</title>
    <style>
        .yarn-wrapper {
          position: fixed;
          top: -100px;
          width: 50px;
          animation: fall linear infinite;
          z-index: 1000;
          pointer-events: none;
        }
      
        .yarn {
          width: 100%;
          animation: spin 4s linear infinite;
        }
      
        @keyframes fall {
          0% { transform: translateY(-100px); }
          100% { transform: translateY(110vh); }
        }
      
        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }
      </style>
      
       
</head>

<body>
    <h1>Find a Knitting Recipe</h1>
    <form method="post" action="/results">
        <label for="material_g">Material (g):</label>
        <select name="material_g" required>
            {% for g in materials %}
                <option value="{{ g }}">{{ g }}</option>
            {% endfor %}
        </select>
        <br>

        <label for="needle">Needle (mm):</label>
        <select name="needle" required>
            {% for n in needles %}
                <option value="{{ n }}">{{ n }}</option>
            {% endfor %}
        </select>
        <br>

        <label for="yarn">Yarn:</label>
        <select name="yarn" required>
            {% for y in yarns %}
                <option value="{{ y }}">{{ y }}</option>
            {% endfor %}
        </select>
        <br><br>

        <button type="submit">Find Recipes</button>
    </form>
    <script>
        const yarnImages = [
          "{{ url_for('static', filename='img/yarn1.png') }}",
          "{{ url_for('static', filename='img/yarn2.png') }}",
          "{{ url_for('static', filename='img/yarn3.png') }}",
          "{{ url_for('static', filename='img/yarn4.png') }}"
        ];
      
        function createYarn() {
          const wrapper = document.createElement('div');
          wrapper.className = 'yarn-wrapper';
          wrapper.style.left = Math.random() * 100 + 'vw';
          wrapper.style.animationDuration = (Math.random() * 3 + 2) + 's';
      
          const img = document.createElement('img');
          img.className = 'yarn';
          img.src = yarnImages[Math.floor(Math.random() * yarnImages.length)];
      
          wrapper.appendChild(img);
          document.body.appendChild(wrapper);
      
          setTimeout(() => wrapper.remove(), 6000);
        }
      
        setInterval(createYarn, 300);
      </script>
      
    
</body>
</html>
